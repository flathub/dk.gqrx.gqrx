From decc3cbdd5203eb97c75708127d5588cb7485fd5 Mon Sep 17 00:00:00 2001
From: Volker Schroer <3470424+dl1ksv@users.noreply.github.com>
Date: Fri, 6 Feb 2026 17:54:02 +0100
Subject: [PATCH] Add an additional possible lib path for flatpak Update cmake
 minimum required version to 3.16 (gnuradio standard)

---
 CMakeLists.txt                 | 2 +-
 cmake/Modules/FindHIDAPI.cmake | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index eed971f..b2c93a9 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -9,7 +9,7 @@
 ########################################################################
 # Project setup
 ########################################################################
-cmake_minimum_required(VERSION 3.8)
+cmake_minimum_required(VERSION 3.16)
 project(gr-funcube CXX C)
 enable_testing()
 
diff --git a/cmake/Modules/FindHIDAPI.cmake b/cmake/Modules/FindHIDAPI.cmake
index c6ed494..26d68da 100644
--- a/cmake/Modules/FindHIDAPI.cmake
+++ b/cmake/Modules/FindHIDAPI.cmake
@@ -5,6 +5,8 @@ if(NOT LIBHIDAPI_FOUND)
     /usr/include/hidapi
     /usr/include
     /usr/local/include
+    /app/include/hidapi
+    /app/include
   )
 
   find_library(LIBHIDAPI_LIBRARIES NAMES libhidapi-libusb hidapi-libusb
@@ -12,6 +14,7 @@ if(NOT LIBHIDAPI_FOUND)
     ${LIBHIDAPI_PKG_LIBRARY_DIRS}
     /usr/lib
     /usr/local/lib
+    /app/lib
   )
 
 if(LIBHIDAPI_INCLUDE_DIR AND LIBHIDAPI_LIBRARIES)
